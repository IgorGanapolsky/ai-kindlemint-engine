// Base64-encoded PDF data for reliable download
export const PDF_DATA = {
  filename: "5-free-sudoku-puzzles.pdf",
  mimeType: "application/pdf",
  base64: "JVBERi0xLjMKJZOMi54gUmVwb3J0TGFiIEdlbmVyYXRlZCBQREYgZG9jdW1lbnQgaHR0cDovL3d3dy5yZXBvcnRsYWIuY29tCjEgMCBvYmoKPDwKL0YxIDIgMCBSIC9GMiAzIDAgUiAvRjMgNCAwIFIKPj4KZW5kb2JqCjIgMCBvYmoKPDwKL0Jhc2VGb250IC9IZWx2ZXRpY2EgL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcgL05hbWUgL0YxIC9TdWJ0eXBlIC9UeXBlMSAvVHlwZSAvRm9udAo+PgplbmRvYmoKMyAwIG9iago8PAovQmFzZUZvbnQgL0hlbHZldGljYS1Cb2xkIC9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIC9OYW1lIC9GMiAvU3VidHlwZSAvVHlwZTEgL1R5cGUgL0ZvbnQKPj4KZW5kb2JqCjQgMCBvYmoKPDwKL0Jhc2VGb250IC9aYXBmRGluZ2JhdHMgL05hbWUgL0YzIC9TdWJ0eXBlIC9UeXBlMSAvVHlwZSAvRm9udAo+PgplbmRvYmoKNSAwIG9iago8PAovQ29udGVudHMgMTAgMCBSIC9NZWRpYUJveCBbIDAgMCA2MTIgNzkyIF0gL1BhcmVudCA5IDAgUiAvUmVzb3VyY2VzIDw8Ci9Gb250IDEgMCBSIC9Qcm9jU2V0IFsgL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSSBdCj4+IC9Sb3RhdGUgMCAvVHJhbnMgPDwKCj4+IAogIC9UeXBlIC9QYWdlCj4+CmVuZG9iago2IDAgb2JqCjw8Ci9Db250ZW50cyAxMSAwIFIgL01lZGlhQm94IFsgMCAwIDYxMiA3OTIgXSAvUGFyZW50IDkgMCBSIC9SZXNvdXJjZXMgPDwKL0ZvbnQgMSAwIFIgL1Byb2NTZXQgWyAvUERGIC9UZXh0IC9JbWFnZUIgL0ltYWdlQyAvSW1hZ2VJIF0KPj4gL1JvdGF0ZSAwIC9UcmFucyA8PAoKPj4gCiAgL1R5cGUgL1BhZ2UKPj4KZW5kb2JqCjcgMCBvYmoKPDwKL1BhZ2VNb2RlIC9Vc2VOb25lIC9QYWdlcyA5IDAgUiAvVHlwZSAvQ2F0YWxvZwo+PgplbmRvYmoKOCAwIG9iago8PAovQXV0aG9yIChhbm9ueW1vdXMpIC9DcmVhdGlvbkRhdGUgKEQ6MjAyNTA3MDcxMzA4MTctMDQnMDAnKSAvQ3JlYXRvciAoUmVwb3J0TGFiIFBERiBMaWJyYXJ5IC0gd3d3LnJlcG9ydGxhYi5jb20pIC9LZXl3b3JkcyAoKSAvTW9kRGF0ZSAoRDoyMDI1MDcwNzEzMDgxNy0wNCcwMCcpIC9Qcm9kdWNlciAoUmVwb3J0TGFiIFBERiBMaWJyYXJ5IC0gd3d3LnJlcG9ydGxhYi5jb20pIAogIC9TdWJqZWN0ICh1bnNwZWNpZmllZCkgL1RpdGxlICh1bnRpdGxlZCkgL1RyYXBwZWQgL0ZhbHNlCj4+CmVuZG9iago5IDAgb2JqCjw8Ci9Db3VudCAyIC9LaWRzIFsgNSAwIFIgNiAwIFIgXSAvVHlwZSAvUGFnZXMKPj4KZW5kb2JqCjEwIDAgb2JqCjw8Ci9GaWx0ZXIgWyAvQVNDSUk4NURlY29kZSAvRmxhdGVEZWNvZGUgXSAvTGVuZ3RoIDQ3NQo+PgpzdHJlYW0KR2F0JV4+dGAnaCdTYylUKCU3RF1fNXA1V1k0SFw8Sk4uKE9fPF1HaFwlIj1GQmZoaiJoREMsYjsyJWxnYD9CTiFvOi9hPmFGPz1CNzFDZWc5Tk4zPStGYUhaOUhtaFJSQGYyRTVUSycvcDlpMTEsJ1lZQClKKUhOTDprTU9fOSpBS1RlR2ZJYS80PzdYZi9vdXJmJGRHMVFrKm42X2tQKidJJS1GTS5EcCxdWDtjYV9UJDw9QDlNa2o+T3QjRm8zRVEuRGAhU1JHZGpzZyVxTiVpLEJUTF1kNV9qYjZKOVRTLTAvSiRLLC4zcks3I1lkZyM8dXFBMypgTE9mSFEjZ1EkS3FCOk9lZW5iaDNQZjYnZjc0ZTQnTltGXzpXVzppRFZBQEMyJzQtMXRrQF1GLTMzZ0hEZlBbdSkxcUNZMlBgXWRcSTVIW2NAJkdBMXFKdCc+a3AtOjNFV2pcP0xSMWIzMkwlZldRbWY8WXUmblo7Mm49SWU6bkBaVlVOU2laRjpmOi85RlpBNEZzLlJFWm5CN0BuZ05ZX2FIQ1VhJl1gYiUlZlFQUURDVCh1b3E/SXBZUUNcTXUtIy1VJ0Q9P0NhbFg7bTpSWGVEV0AvUF82WlQkIyhqLEZ+PmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKPDwKL0ZpbHRlciBbIC9BU0NJSTg1RGVjb2RlIC9GbGF0ZURlY29kZSBdIC9MZW5ndGggMjE5Cj4+CnN0cmVhbQpHYXJXMWI3OStYJ0xfXENgQFRQSW9lczMsL2tvYThfTSVtZzAqQnBbIT83LSgoUHUhKkFzLTtlZ2o9ZFtTTy5DMSgtI3VEK3ApY0oxSXMyI0k3MSRJUjwqPztpYG41MmpuKVJiOFtdIWRVbWQ7cCgzKmYlVlNMPDVVRkdtQlBPOEgrI2ZKPzZZJjRQb0pSM2NbZSVfRDMiMzFBTy1TLEZzOnBXNmBOJ1dTOi0vLDZqT1l0LzNnLiwnKGh1Y0wnJS1YYT1NOyRYaUJLT1JFciFeR2ghWDlaLlY+fj5lbmRzdHJlYW0KZW5kb2JqCnhyZWYKMCAxMgowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDAwNzMgMDAwMDAgbiAKMDAwMDAwMDEyNCAwMDAwMCBuIAowMDAwMDAwMjMxIDAwMDAwIG4gCjAwMDAwMDAzNDMgMDAwMDAgbiAKMDAwMDAwMDQyNiAwMDAwMCBuIAowMDAwMDAwNjIwIDAwMDAwIG4gCjAwMDAwMDA4MTQgMDAwMDAgbiAKMDAwMDAwMDg4MiAwMDAwMCBuIAowMDAwMDAxMTc4IDAwMDAwIG4gCjAwMDAwMDEyNDMgMDAwMDAgbiAKMDAwMDAwMTgwOSAwMDAwMCBuIAp0cmFpbGVyCjw8Ci9JRCAKWzw0NWM2YzNmZjI4YzA2ZWIxZTlhODE3NDFhOGIyMzU4ZT48NDVjNmMzZmYyOGMwNmViMWU5YTgxNzQxYThiMjM1OGU+XQolIFJlcG9ydExhYiBnZW5lcmF0ZWQgUERGIGRvY3VtZW50IC0tIGRpZ2VzdCAoaHR0cDovL3d3dy5yZXBvcnRsYWIuY29tKQoKL0luZm8gOCAwIFIKL1Jvb3QgNyAwIFIKL1NpemUgMTIKPj4Kc3RhcnR4cmVmCjIxMTkKJSVFT0YK"
};

export const downloadPDFFromBase64 = () => {
  try {
    // Convert base64 to blob
    const byteCharacters = atob(PDF_DATA.base64);
    const byteNumbers = new Array(byteCharacters.length);
    for (let i = 0; i < byteCharacters.length; i++) {
      byteNumbers[i] = byteCharacters.charCodeAt(i);
    }
    const byteArray = new Uint8Array(byteNumbers);
    const blob = new Blob([byteArray], { type: PDF_DATA.mimeType });

    // Create download link
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = PDF_DATA.filename;
    
    // Trigger download
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
    
    console.log('✅ PDF download started');
  } catch (error) {
    console.error('❌ PDF download failed:', error);
    alert('Download failed. Please try again or contact support.');
  }
};
